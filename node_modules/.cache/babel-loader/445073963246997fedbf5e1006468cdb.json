{"ast":null,"code":"import _objectSpread from\"/Users/malan/Desktop/React_practice/HW/3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/malan/Desktop/React_practice/HW/3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/malan/Desktop/React_practice/HW/3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/malan/Desktop/React_practice/HW/3/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/malan/Desktop/React_practice/HW/3/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/malan/Desktop/React_practice/HW/3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from'react';import{nanoid}from'nanoid';import ContactsForm from'./contactsForm';import Filter from'./filter';import ContactList from'./contactList';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:[{id:'id-1',name:'Rosie Simpson',number:'459-12-56'},{id:'id-2',name:'Hermione Kline',number:'443-89-12'},{id:'id-3',name:'Eden Clements',number:'645-17-79'},{id:'id-4',name:'Annie Copeland',number:'227-91-26'}],filter:''};_this.componentDidMount=function(){var savedContacts=localStorage.getItem('contacts');if(savedContacts){_this.setState({contacts:JSON.parse(savedContacts)});}};_this.onFilterChange=function(e){_this.setState({filter:e.target.value});};_this.createContact=function(data){var exist=_toConsumableArray(_this.state.contacts).some(function(item){return item.name===data.name;});if(!exist){_this.setState(function(prev){return{contacts:[].concat(_toConsumableArray(prev.contacts),[_objectSpread({id:nanoid()},data)])};});}else{alert(\"\".concat(data.name,\" is already in contacts\"));}};_this.removeContact=function(e){_this.setState(function(prev){return{contacts:prev.contacts.filter(function(contact){return contact.id!==e.target.id;})};});};return _this;}_createClass(App,[{key:\"componentDidUpdate\",value:function componentDidUpdate(_,prevState){if(prevState.contacts!==this.state.contacts){localStorage.setItem('contacts',JSON.stringify(this.state.contacts));}}},{key:\"render\",value:function render(){var filterNormalized=this.state.filter.toLowerCase();var filtered=_toConsumableArray(this.state.contacts).filter(function(contact){return contact.name.toLowerCase().includes(filterNormalized);});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/_jsx(ContactsForm,{getData:this.createContact}),/*#__PURE__*/_jsx(\"h2\",{children:\"Contacts\"}),/*#__PURE__*/_jsx(Filter,{onFilterChange:this.onFilterChange,filter:this.state.filter}),/*#__PURE__*/_jsx(ContactList,{filtered:filtered,removeContact:this.removeContact})]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["Component","nanoid","ContactsForm","Filter","ContactList","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","contacts","id","name","number","filter","componentDidMount","savedContacts","localStorage","getItem","setState","JSON","parse","onFilterChange","e","target","value","createContact","data","exist","_toConsumableArray","some","item","prev","_objectSpread","alert","removeContact","contact","_createClass","key","componentDidUpdate","_","prevState","setItem","stringify","render","filterNormalized","toLowerCase","filtered","includes","children","getData"],"sources":["/Users/malan/Desktop/React_practice/HW/3/src/components/App.js"],"sourcesContent":["import { Component } from 'react';\nimport { nanoid } from 'nanoid';\nimport ContactsForm from './contactsForm';\nimport Filter from './filter';\nimport ContactList from './contactList';\n\nclass App extends Component {\n  state = {\n    contacts: [\n      { id: 'id-1', name: 'Rosie Simpson', number: '459-12-56' },\n      { id: 'id-2', name: 'Hermione Kline', number: '443-89-12' },\n      { id: 'id-3', name: 'Eden Clements', number: '645-17-79' },\n      { id: 'id-4', name: 'Annie Copeland', number: '227-91-26' },\n    ],\n    filter: '',\n  };\n  componentDidMount = () => {\n    const savedContacts = localStorage.getItem('contacts');\n    if (savedContacts) {\n      this.setState({\n        contacts: JSON.parse(savedContacts),\n      });\n    }\n  };\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.contacts !== this.state.contacts) {\n      localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\n    }\n  }\n\n  onFilterChange = e => {\n    this.setState({\n      filter: e.target.value,\n    });\n  };\n\n  createContact = data => {\n    const exist = [...this.state.contacts].some(item => item.name === data.name);\n    if (!exist) {\n      this.setState(prev => ({\n        contacts: [...prev.contacts, { id: nanoid(), ...data }],\n      }));\n    } else {\n      alert(`${data.name} is already in contacts`);\n    }\n  };\n\n  removeContact = e => {\n    this.setState(prev => ({\n      contacts: prev.contacts.filter(contact => contact.id !== e.target.id),\n    }));\n  };\n\n  render() {\n    const filterNormalized = this.state.filter.toLowerCase();\n    const filtered = [...this.state.contacts].filter(contact =>\n      contact.name.toLowerCase().includes(filterNormalized)\n    );\n\n    return (\n      <>\n        <h2>Phonebook</h2>\n        <ContactsForm getData={this.createContact}></ContactsForm>\n\n        <h2>Contacts</h2>\n        <Filter onFilterChange={this.onFilterChange} filter={this.state.filter}></Filter>\n        <ContactList filtered={filtered} removeContact={this.removeContact} />\n      </>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"2uBAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,MAAM,KAAQ,QAAQ,CAC/B,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAElC,CAAAC,GAAG,uBAAAC,UAAA,EAAAC,SAAA,CAAAF,GAAA,CAAAC,UAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,GAAA,WAAAA,IAAA,MAAAK,KAAA,CAAAC,eAAA,MAAAN,GAAA,UAAAO,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAAAC,IAAA,KAAAC,KAAA,CAAAJ,IAAA,EAAAK,IAAA,GAAAA,IAAA,CAAAL,IAAA,CAAAK,IAAA,IAAAF,IAAA,CAAAE,IAAA,EAAAJ,SAAA,CAAAI,IAAA,GAAAP,KAAA,CAAAF,MAAA,CAAAU,IAAA,CAAAC,KAAA,CAAAX,MAAA,QAAAY,MAAA,CAAAL,IAAA,GAAAL,KAAA,CACPW,KAAK,CAAG,CACNC,QAAQ,CAAE,CACR,CAAEC,EAAE,CAAE,MAAM,CAAEC,IAAI,CAAE,eAAe,CAAEC,MAAM,CAAE,WAAY,CAAC,CAC1D,CAAEF,EAAE,CAAE,MAAM,CAAEC,IAAI,CAAE,gBAAgB,CAAEC,MAAM,CAAE,WAAY,CAAC,CAC3D,CAAEF,EAAE,CAAE,MAAM,CAAEC,IAAI,CAAE,eAAe,CAAEC,MAAM,CAAE,WAAY,CAAC,CAC1D,CAAEF,EAAE,CAAE,MAAM,CAAEC,IAAI,CAAE,gBAAgB,CAAEC,MAAM,CAAE,WAAY,CAAC,CAC5D,CACDC,MAAM,CAAE,EACV,CAAC,CAAAhB,KAAA,CACDiB,iBAAiB,CAAG,UAAM,CACxB,GAAM,CAAAC,aAAa,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CACtD,GAAIF,aAAa,CAAE,CACjBlB,KAAA,CAAKqB,QAAQ,CAAC,CACZT,QAAQ,CAAEU,IAAI,CAACC,KAAK,CAACL,aAAa,CACpC,CAAC,CAAC,CACJ,CACF,CAAC,CAAAlB,KAAA,CAQDwB,cAAc,CAAG,SAAAC,CAAC,CAAI,CACpBzB,KAAA,CAAKqB,QAAQ,CAAC,CACZL,MAAM,CAAES,CAAC,CAACC,MAAM,CAACC,KACnB,CAAC,CAAC,CACJ,CAAC,CAAA3B,KAAA,CAED4B,aAAa,CAAG,SAAAC,IAAI,CAAI,CACtB,GAAM,CAAAC,KAAK,CAAGC,kBAAA,CAAI/B,KAAA,CAAKW,KAAK,CAACC,QAAQ,EAAEoB,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACnB,IAAI,GAAKe,IAAI,CAACf,IAAI,GAAC,CAC5E,GAAI,CAACgB,KAAK,CAAE,CACV9B,KAAA,CAAKqB,QAAQ,CAAC,SAAAa,IAAI,QAAK,CACrBtB,QAAQ,IAAAF,MAAA,CAAAqB,kBAAA,CAAMG,IAAI,CAACtB,QAAQ,GAAAuB,aAAA,EAAItB,EAAE,CAAE5B,MAAM,CAAC,CAAC,EAAK4C,IAAI,GACtD,CAAC,EAAC,CAAC,CACL,CAAC,IAAM,CACLO,KAAK,IAAA1B,MAAA,CAAImB,IAAI,CAACf,IAAI,2BAAyB,CAAC,CAC9C,CACF,CAAC,CAAAd,KAAA,CAEDqC,aAAa,CAAG,SAAAZ,CAAC,CAAI,CACnBzB,KAAA,CAAKqB,QAAQ,CAAC,SAAAa,IAAI,QAAK,CACrBtB,QAAQ,CAAEsB,IAAI,CAACtB,QAAQ,CAACI,MAAM,CAAC,SAAAsB,OAAO,QAAI,CAAAA,OAAO,CAACzB,EAAE,GAAKY,CAAC,CAACC,MAAM,CAACb,EAAE,GACtE,CAAC,EAAC,CAAC,CACL,CAAC,QAAAb,KAAA,EAAAuC,YAAA,CAAA5C,GAAA,GAAA6C,GAAA,sBAAAb,KAAA,CA3BD,SAAAc,mBAAmBC,CAAC,CAAEC,SAAS,CAAE,CAC/B,GAAIA,SAAS,CAAC/B,QAAQ,GAAK,IAAI,CAACD,KAAK,CAACC,QAAQ,CAAE,CAC9CO,YAAY,CAACyB,OAAO,CAAC,UAAU,CAAEtB,IAAI,CAACuB,SAAS,CAAC,IAAI,CAAClC,KAAK,CAACC,QAAQ,CAAC,CAAC,CACvE,CACF,CAAC,GAAA4B,GAAA,UAAAb,KAAA,CAyBD,SAAAmB,OAAA,CAAS,CACP,GAAM,CAAAC,gBAAgB,CAAG,IAAI,CAACpC,KAAK,CAACK,MAAM,CAACgC,WAAW,CAAC,CAAC,CACxD,GAAM,CAAAC,QAAQ,CAAGlB,kBAAA,CAAI,IAAI,CAACpB,KAAK,CAACC,QAAQ,EAAEI,MAAM,CAAC,SAAAsB,OAAO,QACtD,CAAAA,OAAO,CAACxB,IAAI,CAACkC,WAAW,CAAC,CAAC,CAACE,QAAQ,CAACH,gBAAgB,CAAC,EACvD,CAAC,CAED,mBACErD,KAAA,CAAAF,SAAA,EAAA2D,QAAA,eACE7D,IAAA,OAAA6D,QAAA,CAAI,WAAS,CAAI,CAAC,cAClB7D,IAAA,CAACJ,YAAY,EAACkE,OAAO,CAAE,IAAI,CAACxB,aAAc,CAAe,CAAC,cAE1DtC,IAAA,OAAA6D,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB7D,IAAA,CAACH,MAAM,EAACqC,cAAc,CAAE,IAAI,CAACA,cAAe,CAACR,MAAM,CAAE,IAAI,CAACL,KAAK,CAACK,MAAO,CAAS,CAAC,cACjF1B,IAAA,CAACF,WAAW,EAAC6D,QAAQ,CAAEA,QAAS,CAACZ,aAAa,CAAE,IAAI,CAACA,aAAc,CAAE,CAAC,EACtE,CAAC,CAEP,CAAC,WAAA1C,GAAA,GAhEeX,SAAS,EAmE3B,cAAe,CAAAW,GAAG"},"metadata":{},"sourceType":"module"}